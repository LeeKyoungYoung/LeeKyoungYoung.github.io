import{u as x,r as g,j as e}from"./index--oy4d1LN.js";import{u as j}from"./useMutation-BWXDtBTP.js";import{c as h}from"./item-CqJ6QjA0.js";import{o as f}from"./board-CNwfHsRh.js";import{s as b}from"./Project.module-Dpi1qAxQ.js";import"./utils-km2FGkQ4.js";function y(){const s=x(),[a,r]=g.useState({name:"",description:"",itemCategory:1,imageUrl:""}),m=j({mutationFn:t=>h(t),onSuccess:async()=>{await alert("도서 추가 성공"),s(-1),r({name:"",description:"",itemCategory:1,imageUrl:""})},onError:t=>{console.error("도서 추가 실패:",t),alert("도서 추가 실패")}}),n=async t=>{const{name:c,value:u,files:i}=t.target;if(i&&i[0]){const p=i[0],o=await f(p);o&&r(d=>({...d,imageUrl:o}))}else r({...a,[c]:u})},l=t=>{t.preventDefault(),console.log("Sending Data:",a),m.mutate(a)};return e.jsx("div",{className:b.container,children:e.jsxs("form",{onSubmit:l,children:[e.jsx("h2",{children:"도서 관리"}),e.jsx("label",{htmlFor:"Name",children:"도서명"}),e.jsx("br",{}),e.jsx("input",{type:"text",id:"name",name:"name",placeholder:"도서명 입력",value:a.name,onChange:n,required:!0}),e.jsx("br",{}),e.jsx("label",{htmlFor:"description",children:"설명"}),e.jsx("br",{}),e.jsx("input",{type:"text",id:"description",name:"description",placeholder:"설명 입력",value:a.description,onChange:n,required:!0}),e.jsx("br",{}),e.jsx("label",{htmlFor:"imageSelect",children:"이미지 선택"}),e.jsx("br",{}),e.jsx("input",{type:"file",id:"imageSelect",name:"imageSelect",accept:"image/*",onChange:n}),e.jsx("br",{}),e.jsx("input",{type:"submit",value:"도서 추가"})]})})}function E(){return e.jsx(y,{})}export{E as default};
