import{d as v,u as x,r as c,j as e}from"./index--oy4d1LN.js";import{u as j,Q as y}from"./queryKey-C4OvowHP.js";import{u as g}from"./useMutation-BWXDtBTP.js";import{u as E,a as b}from"./havruta-Di_6p_ps.js";import"./utils-km2FGkQ4.js";const N=v.div`
  padding: 10rem;
`;function S(){const d=x(),[a,n]=c.useState({className:"",professor:""}),o=window.location.href,l=o.substring(o.lastIndexOf("/")+1),i=Number(l),s=j({queryKey:y.havruta.havrutaById(i),queryFn:async()=>b(i)});let r;const m=g({mutationFn:t=>E(t),onSuccess:async()=>{await d(-1)},onError:t=>{console.error("하브루타 수정 실패: ",t)}});c.useEffect(()=>{s.isSuccess&&s.data&&n(t=>({...t,...s.data}))},[s.isSuccess,s.data]);const u=t=>{const{name:p,value:h}=t.target;n({...a,[p]:h})},f=t=>{t.preventDefault(),m.mutate(a)};if(s.isLoading)r=e.jsx("div",{children:"데이터를 불러오는 중입니다..."});else if(s.isError)r=e.jsx("div",{children:"에러가 발생했습니다!!"});else if(s.isSuccess)return e.jsx(N,{children:e.jsxs("form",{onSubmit:f,children:[e.jsx("h1",{children:"하브루타 수정"}),e.jsx("label",{htmlFor:"className",children:"과목명"}),e.jsx("input",{type:"text",id:"className",name:"className",value:a.className,onChange:u,required:!0}),e.jsx("label",{htmlFor:"professor",children:"교수명"}),e.jsx("input",{type:"text",id:"professor",name:"professor",value:a.professor,onChange:u,required:!0}),e.jsx("input",{type:"submit",value:"하브루타 수정"})]})});return e.jsx("div",{children:r})}function Q(){return e.jsx("div",{children:e.jsx(S,{})})}export{Q as default};
