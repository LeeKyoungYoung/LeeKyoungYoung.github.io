import{j as e,M as l,r as m}from"./index--oy4d1LN.js";import{u as d,Q as _}from"./queryKey-C4OvowHP.js";import{g as j,a as p}from"./project-DtPuMC7w.js";import"./utils-km2FGkQ4.js";const u="_modalContent_c5yl7_3",x="_overlay_c5yl7_35",y="_image_c5yl7_99",b="_description_c5yl7_141",c={modalContent:u,overlay:x,"modal-header":"_modal-header_c5yl7_63","modal-body":"_modal-body_c5yl7_83","image-box":"_image-box_c5yl7_99",image:y,description:b,"content-description":"_content-description_c5yl7_161","modal-footer":"_modal-footer_c5yl7_173","close-button":"_close-button_c5yl7_197","url-button":"_url-button_c5yl7_227"},h=({projectId:s,closeModal:t})=>{const{data:o,isLoading:n,isError:i}=d({queryKey:_.project.projectById(s),queryFn:async()=>j(s)});return n?e.jsx(l,{isOpen:!0,onRequestClose:t,children:"Loading..."}):i||!o?e.jsxs(l,{isOpen:!0,onRequestClose:t,children:[e.jsx("div",{children:"에러가 발생했습니다."}),e.jsx("button",{onClick:t,children:"닫기"})]}):e.jsx(e.Fragment,{children:e.jsxs(l,{className:c.modalContent,overlayClassName:c.overlay,isOpen:!0,onRequestClose:t,children:[e.jsxs("div",{className:c["modal-header"],children:[o.serviceName,e.jsx("a",{href:o.serviceUrl,target:"_blank",rel:"none",className:c["url-button"],children:"URL 이동"})]}),e.jsxs("div",{className:c["modal-body"],children:[e.jsx("div",{className:c["image-box"],children:e.jsx("img",{src:o.imageUrl,className:c.image})}),e.jsxs("div",{className:c.description,children:[e.jsx("div",{className:c["content-description"],children:"프로젝트 설명"}),e.jsx("div",{children:o.content})]})]}),e.jsx("div",{className:c["modal-footer"],children:e.jsx("button",{onClick:t,className:c["close-button"],children:"X"})})]})})},g="_title_gk8bs_75",v="_content_gk8bs_93",N="_borrow_gk8bs_107",f="_available_gk8bs_121",r={"project-list-container":"_project-list-container_gk8bs_1","project-block":"_project-block_gk8bs_17","project-picture":"_project-picture_gk8bs_55",title:g,content:v,borrow:N,available:f};function k({project:s}){const[t,o]=m.useState(!1),n=()=>o(!0),i=()=>o(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:r["project-block"],onClick:n,children:[e.jsx("div",{className:r["project-picture"],children:e.jsx("img",{src:s.imageUrl,className:r["project-picture"]})}),e.jsx("div",{className:r.title,children:s.serviceName}),e.jsx("div",{className:r.content,children:s.members})]}),t&&e.jsx(h,{projectId:s.id,closeModal:i})]})}const a={"project-list-container":"_project-list-container_1u7cn_1"};function C(){const s=d({queryKey:_.project.projects(),queryFn:async()=>p()});let t;return s.isLoading?t=e.jsx("div",{children:"로딩중..."}):s.isError?t=e.jsx("div",{className:"error",children:"에러가 발생했습니다!"}):s.isSuccess&&(s.data.length===0?console.log("서버 통신 가능, 아직 데이터 없음"):t=e.jsx("div",{className:a["project-list-container"],children:s.data.map(o=>e.jsx(k,{project:o},o.id))})),e.jsx(e.Fragment,{children:e.jsx("div",{className:a.content,children:t})})}const q={"project-section":"_project-section_1xzl4_1"};function L(){return e.jsxs("div",{className:q["project-section"],children:[e.jsx("p",{children:"프로젝트"}),e.jsx(C,{})]})}export{L as default};
